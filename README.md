# 股票监控系统 (Stock Monitor System)

基于同花顺API的实时股票监控分析程序，支持自定义时间间隔扫描自选股的实时股价、盘面信息、新闻，并综合多种技术分析理论分析买卖点，对重要信息和买卖点予以弹窗提醒。

## 功能特性

### 📊 实时监控
- **实时股价监控**: 自动获取自选股的实时价格、涨跌幅、成交量等信息
- **盘面信息**: 市盈率、市净率、市值、流通股本等关键指标
- **新闻追踪**: 实时获取股票相关新闻资讯

### 📈 技术分析
综合运用多种权威技术分析理论:
- **移动平均线(MA)**: 5日、10日、20日均线分析，判断趋势
- **相对强弱指标(RSI)**: 判断超买超卖状态
- **MACD指标**: 捕捉金叉死叉信号
- **KDJ指标**: 随机指标分析
- **布林带(BOLL)**: 价格波动区间分析

### 🔔 智能提醒
- **价格异动提醒**: 涨跌幅超过阈值时弹窗提醒
- **买卖信号提醒**: 综合分析评分达到阈值时提醒
- **重要新闻提醒**: 发现重要公告或新闻时提醒
- **图形界面**: 友好的GUI界面，实时显示监控日志

## 安装说明

### 环境要求
- Python 3.8+
- tkinter (通常随Python一起安装)

### 安装步骤

1. 克隆仓库
```bash
git clone https://github.com/beingking/finace.git
cd finace
```

2. 安装依赖
```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 配置自选股

编辑 `config.json` 文件，设置您的自选股列表和监控参数：

```json
{
  "watchlist": [
    "600000",  // 浦发银行
    "000001",  // 平安银行
    "600519"   // 贵州茅台
  ],
  "scan_interval": 60,  // 扫描间隔（秒）
  "alert_conditions": {
    "price_change_threshold": 3.0,      // 价格变动阈值(%)
    "volume_threshold": 200,            // 成交量阈值(%)
    "buy_signal_threshold": 5,          // 买入信号阈值
    "sell_signal_threshold": -5         // 卖出信号阈值
  }
}
```

### 2. 启动程序

#### 图形界面模式（推荐）
```bash
python stock_monitor.py
```

启动后会显示图形界面：
- 点击"启动监控"按钮开始监控
- 监控日志会实时显示在界面上
- 检测到重要信号时会弹出提醒窗口
- 点击"停止监控"按钮停止监控

#### 命令行模式
如果您想在无GUI环境下运行，可以修改代码使用命令行模式。

## 配置说明

### config.json 参数详解

| 参数 | 说明 | 默认值 |
|------|------|--------|
| watchlist | 自选股代码列表 | ["600000", "000001", "000002"] |
| scan_interval | 扫描间隔（秒） | 60 |
| price_change_threshold | 价格异动阈值(%) | 3.0 |
| volume_threshold | 成交量异动阈值(%) | 200 |
| buy_signal_threshold | 买入信号评分阈值 | 5 |
| sell_signal_threshold | 卖出信号评分阈值 | -5 |

### 技术指标说明

#### 买卖信号评分系统
程序会根据多个技术指标综合评分：
- **均线多头排列**: +2分
- **RSI超卖(<30)**: +3分
- **MACD金叉**: +2分
- **KDJ超卖(J<20)**: +2分

对应的，卖出信号为负分。

#### 建议等级
- **STRONG BUY**: 评分 ≥ 5
- **BUY**: 评分 2-4
- **HOLD**: 评分 -1 到 1
- **SELL**: 评分 -2 到 -4
- **STRONG SELL**: 评分 ≤ -5

## 技术架构

### 核心模块

1. **StockAnalyzer** - 技术分析模块
   - 实现各类技术指标计算
   - 综合分析买卖信号
   - 生成交易建议

2. **TongHuaShunAPI** - API接口模块
   - 封装同花顺API调用
   - 获取实时行情数据
   - 获取历史数据和新闻

3. **StockMonitor** - 监控主控模块
   - 管理监控循环
   - 检查提醒条件
   - 触发弹窗提醒

4. **StockMonitorGUI** - 图形界面模块
   - 提供友好的用户界面
   - 实时显示监控日志
   - 管理监控启停

## 注意事项

⚠️ **重要说明**:
1. 当前版本使用模拟数据进行演示
2. 实际使用时需要替换为真实的同花顺API接口
3. 需要申请同花顺API密钥并配置
4. 技术分析仅供参考，不构成投资建议
5. 股市有风险，投资需谨慎

## API集成指南

要集成真实的同花顺API，需要：

1. 在同花顺开放平台注册账号
2. 申请API密钥
3. 修改 `TongHuaShunAPI` 类中的API调用方法
4. 替换模拟数据为真实API响应

```python
class TongHuaShunAPI:
    def __init__(self, api_key):
        self.api_key = api_key
        self.base_url = "https://api.10jqka.com.cn"  # 实际API地址
        # ... 其他配置
```

## 示例输出

```
============================================================
开始扫描 - 2026-02-16 14:30:00
============================================================

【浦发银行 (600000)】
当前价: 10.52  涨跌: +0.23 (+2.23%)
成交量: 45,678,900  成交额: 480,321,456.00
今开: 10.31  最高: 10.58  最低: 10.25

技术分析:
  建议: BUY (评分: 4)
  买入信号: 均线多头排列, RSI超卖(28.50)

最新新闻:
  1. 浦发银行发布年度业绩预告 (财经网)
  2. 银行板块集体上涨 (证券时报)
  3. 市场分析：金融股投资价值凸显 (第一财经)

!!! 提醒 !!!
【浦发银行 (600000)】

强烈买入信号! 评分: 4
  - 均线多头排列
  - RSI超卖(28.50)

============================================================
```

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 许可证

本项目仅供学习交流使用。

## 免责声明

本软件仅供学习和研究使用，不构成任何投资建议。使用本软件进行投资决策的风险由使用者自行承担。作者不对使用本软件造成的任何损失负责。